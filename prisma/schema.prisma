// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}


model Administrador {
  id        String    @id @default(uuid())
  nome      String
  email     String
  token     String?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
}

model Professor {
  id          String     @id @default(uuid())
  nome        String
  email       String
  projetos    ProjetoToProfessor[]
  matricula   String
  curso       String
  token       String?
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt
}

model Aluno {
  id            String     @id @default(uuid())
  nome          String     
  email         String
  matricula     String
  curso         String
  projetos      ProjetoToAluno[]
  token         String?
  status        Boolean
  indicacao     String
  createdAt     DateTime   @default(now())
  updatedAt     DateTime   @updatedAt
}

model Projeto {
  id                  String                @id @default(uuid())
  titulo              String
  areaConhecimento    String
  escola              String
  status              String
  professores         ProjetoToProfessor[]
  alunos              ProjetoToAluno[]
  createdAt           DateTime              @default(now())
  updatedAt           DateTime              @updatedAt
}

model ProjetoToProfessor {
  projeto     Projeto   @relation(fields: [projetoId], references: [id])
  projetoId   String
  professor   Professor @relation(fields: [professorId], references: [id])
  professorId String

  @@id([projetoId, professorId])
}

model ProjetoToAluno {
  projeto   Projeto   @relation(fields: [projetoId], references: [id])
  projetoId String
  aluno     Aluno     @relation(fields: [alunoId], references: [id])
  alunoId   String

  @@id([projetoId, alunoId])
}

model FormularioInscricao {
  id                      String     @id @default(uuid())
  email                   String
  nomeCompletoOrientador  String
  titulacao               String
  matricula               Int
  cpfOrientador           String
  cursoOrientador         String
  telefoneOrientador      Int
  tituloProjeto           String
  areaConhecimentoCNPQ    String
  nomeGrupoPesquisa       String
  nomeAluno               String
  registroAcademico       Int
  indicacao               String
  condicaoFinal           String
  status                  String
  tituloPlanoTrabalho     String
  emailInstitucionalAluno String
  enderecoCompleto        String
  cpfAluno                String
  rgAluno                 String
  dataNascimento          DateTime
  telefoneAluno           Int
  linkLattes              String
  planoTrabalho           String
  historicoEscolar        String
  certificadoMatricula    String
  obs1                    String?
  obs2                    String?
  createdAt               DateTime   @default(now())
  updatedAt               DateTime   @updatedAt
}